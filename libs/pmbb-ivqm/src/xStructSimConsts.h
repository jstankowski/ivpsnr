/*
    SPDX-FileCopyrightText: 2019-2024 Jakub Stankowski <jakub.stankowski@put.poznan.pl>
    SPDX-License-Identifier: BSD-3-Clause
*/

#pragma once
#include "xCommonDefIVQM.h"
#include <array>

namespace PMBB_NAMESPACE {

//===============================================================================================================================================================================================================

class xStructSimConsts //Structural Similarity Constants
{
public:
  //regular SSIM
  static constexpr int32 c_FilterSize  = 11;
  static constexpr int32 c_FilterRange = c_FilterSize >> 1;
  static constexpr int32 c_FilterArea  = c_FilterSize * c_FilterSize;

  template<class XXX> static constexpr XXX c_Sigma = XXX(1.50);
  template<class XXX> static constexpr XXX c_K1    = XXX(0.01);
  template<class XXX> static constexpr XXX c_K2    = XXX(0.03);

  using tFltrF = std::array< std::array <flt32, c_FilterSize>, c_FilterSize>;

  static constexpr tFltrF c_FilterF =
  { {
    { 0.0000010576f, 0.0000078144f, 0.0000370225f, 0.0001124644f, 0.0002190507f, 0.0002735612f, 0.0002190507f, 0.0001124644f, 0.0000370225f, 0.0000078144f, 0.0000010576f, },
    { 0.0000078144f, 0.0000577411f, 0.0002735612f, 0.0008310054f, 0.0016185776f, 0.0020213588f, 0.0016185776f, 0.0008310054f, 0.0002735612f, 0.0000577411f, 0.0000078144f, },
    { 0.0000370225f, 0.0002735612f, 0.0012960556f, 0.0039370693f, 0.0076683638f, 0.0095766275f, 0.0076683638f, 0.0039370693f, 0.0012960556f, 0.0002735612f, 0.0000370225f, },
    { 0.0001124644f, 0.0008310054f, 0.0039370693f, 0.0119597604f, 0.0232944325f, 0.0290912256f, 0.0232944325f, 0.0119597604f, 0.0039370693f, 0.0008310054f, 0.0001124644f, },
    { 0.0002190507f, 0.0016185776f, 0.0076683638f, 0.0232944325f, 0.0453713591f, 0.0566619705f, 0.0453713591f, 0.0232944325f, 0.0076683638f, 0.0016185776f, 0.0002190507f, },
    { 0.0002735612f, 0.0020213588f, 0.0095766275f, 0.0290912256f, 0.0566619705f, 0.0707622378f, 0.0566619705f, 0.0290912256f, 0.0095766275f, 0.0020213588f, 0.0002735612f, },
    { 0.0002190507f, 0.0016185776f, 0.0076683638f, 0.0232944325f, 0.0453713591f, 0.0566619705f, 0.0453713591f, 0.0232944325f, 0.0076683638f, 0.0016185776f, 0.0002190507f, },
    { 0.0001124644f, 0.0008310054f, 0.0039370693f, 0.0119597604f, 0.0232944325f, 0.0290912256f, 0.0232944325f, 0.0119597604f, 0.0039370693f, 0.0008310054f, 0.0001124644f, },
    { 0.0000370225f, 0.0002735612f, 0.0012960556f, 0.0039370693f, 0.0076683638f, 0.0095766275f, 0.0076683638f, 0.0039370693f, 0.0012960556f, 0.0002735612f, 0.0000370225f, },
    { 0.0000078144f, 0.0000577411f, 0.0002735612f, 0.0008310054f, 0.0016185776f, 0.0020213588f, 0.0016185776f, 0.0008310054f, 0.0002735612f, 0.0000577411f, 0.0000078144f, },
    { 0.0000010576f, 0.0000078144f, 0.0000370225f, 0.0001124644f, 0.0002190507f, 0.0002735612f, 0.0002190507f, 0.0001124644f, 0.0000370225f, 0.0000078144f, 0.0000010576f, },
  } };
};

//===============================================================================================================================================================================================================

} //end of namespace PMBB